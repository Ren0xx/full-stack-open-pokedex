name: Deployment pipeline

on:
  push:
    branches:
      - master

jobs:
    simple_deployment_pipeline:    
        runs-on: ubuntu-20.04    
        steps:      
            - uses: actions/checkout@v3
            - uses: actions/setup-node@v3
              with:
                node-version: '16'
            - name: Install dependencies
              run: npm install
            - name: Check style        
              run: npm run lint
    deployment:
        name: Deploy to Render
        runs-on: ubuntu-20.04
        steps:
          - name: Trigger deployment
            uses: sws2apps/render-deployment@main #consider using pin for dependabot auto update
            with:
              serviceId: ${{ secrets.RENDER_SERVICE_ID }}
              apiKey: ${{ secrets.RENDER_API_KEY }}
              multipleDeployment: false 
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
              # - name: e2e tests
            #   uses: cypress-io/github-action@v5
            #   with:
            #     command: npm run test:e2e
            #     start: npm run start-prod
            #     wait-on: http://localhost:5000